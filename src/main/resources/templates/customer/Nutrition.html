<!DOCTYPE html>
<html lang="zxx">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="Gym Template">
    <meta name="keywords" content="Gym, unica, creative, html">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Gym | Template</title>

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css?family=Muli:300,400,500,600,700,800,900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Oswald:300,400,500,600,700&display=swap" rel="stylesheet">

    <!-- Css Styles -->
    <link rel="stylesheet" th:href="@{/css2/bootstrap.min.css}" type="text/css">
    <link rel="stylesheet" th:href="@{/css2/font-awesome.min.css}" type="text/css">
    <link rel="stylesheet" th:href="@{/css2/flaticon.css}" type="text/css">
    <link rel="stylesheet" th:href="@{/css2/owl.carousel.min.css}" type="text/css">
    <link rel="stylesheet" th:href="@{/css2/barfiller.css}" type="text/css">
    <link rel="stylesheet" th:href="@{/css2/magnific-popup.css}" type="text/css">
    <link rel="stylesheet" th:href="@{css2/slicknav.min.css}">
    <link rel="stylesheet" th:href="@{/css2/style.css}" type="text/css">
    <style>
        .user-icon {
            font-size: 2rem;
            color: white; /* Màu trắng cho icon */
            text-decoration: none;
            margin-right: 10px; /* Khoảng cách giữa icon và login/signup */
        }

        .user-icon:hover {
            color: #007bff; /* Màu khi hover */
        }

        /* Căn chỉnh các liên kết login/signup */
        .auth-links a {
            text-decoration: none;
            color: white; /* Màu trắng */
            font-weight: bold;
            margin-left: 0px;
        }

        .auth-links a:hover {
            color: #007bff; /* Màu khi hover */
        }

        /* Thêm hiệu ứng cho các liên kết */
        .login-btn, .signup-btn {
            text-transform: uppercase; /* Viết hoa cho các liên kết */
        }
    </style>
</head>

<body>
<!-- Page Preloder -->
<div id="preloder">
    <div class="loader"></div>
</div>

<!-- Offcanvas Menu Section Begin -->
<div class="offcanvas-menu-overlay"></div>
<div class="offcanvas-menu-wrapper">
    <div class="canvas-close">
        <i class="fa fa-close"></i>
    </div>
    <div class="canvas-search search-switch">
        <i class="fa fa-search"></i>
    </div>
    <nav class="canvas-menu mobile-menu">
        <ul>
            <li><a href="/customer/home">Home</a></li>
            <li class="active"><a href="/customer/home/nutrition-plan">Kế hoạch dinh dưỡng</a></li>
            <li><a href="/customer/home/workout-plan">Kế hoạch luyện tập</a></li>
            <li><a href="/customer/home/Progress">Tiến độ luyện tập</a></li>
            <li><a href="/customer/home/shop">Shop</a></li>
            <li><a href="/customer/home/users/notification">Thông báo</a></li>
            <li><a href="/customer/home/chat">Chăm sóc khách hàng</a></li>
        </ul>
    </nav>

</div>
<!-- Offcanvas Menu Section End -->

<!-- Header Section Begin -->
<header class="header-section">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-3">
                <div class="logo">
                    <a href="/customer/home">
                        <img th:src="@{/img/logo.png}" alt="">
                    </a>
                </div>
            </div>
            <div class="col-lg-6">
                <nav class="nav-menu">
                    <ul>
                        <li><a href="/customer/home">Home</a></li>
                        <li class="active"><a href="/customer/home/nutrition-plan">Kế hoạch dinh dưỡng</a></li>
                        <li><a href="/customer/home/workout-plan">Kế hoạch luyện tập</a></li>
                        <li><a href="/customer/home/Progress">Tiến độ luyện tập</a></li>
                        <li><a href="/customer/home/shop">Shop</a></li>
                        <li><a href="/customer/home/users/notification">Thông báo</a></li>
                        <li><a href="/customer/home/chat">Chăm sóc khách hàng</a></li>
                    </ul>
                </nav>
            </div>
            <div class="col-lg-3">
                <!-- User Icon and Login/Signup Links -->
                <div class="d-flex justify-content-end align-items-center">
                    <a href="/customer/home/users" class="user-icon" id="user-icon">
                        <i class="fa fa-user"></i>
                    </a>
                    <div class="auth-links ml-3" id="auth-links">
                        <a href="/req/login" class="login-btn" id="login-btn">Login</a> |
                        <a href="/req/signup" class="signup-btn">Signup</a>
                    </div>
                    <div class="user-info text-white" id="user-info" style="display: none;">
                        <span>Welcome, <span id="username"></span>!</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="canvas-open">
            <i class="fa fa-bars"></i>
        </div>
    </div>
</header>
<!-- Header End -->

<!-- Breadcrumb Section Begin -->
<section class="breadcrumb-section set-bg" th:data-setbg="@{/img/breadcrumb-bg.jpg}">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 text-center">
                <div class="breadcrumb-text">
                    <h2>Nutrition Blog</h2>
                    <div class="bt-option">
                        <a href="/customer/home">Home</a>
                        <a href="#">Pages</a>
                        <span>Nutrition Blog</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Breadcrumb Section End -->

<!-- Blog Section Begin -->
<section class="blog-section spad">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 p-0">
                <div id="nutrition-container">
                    <!-- Nội dung dinh dưỡng sẽ được thêm động -->
                </div>
                <div class="blog-pagination d-flex justify-content-center mt-4" id="pagination-container">
                    <nav aria-label="Page navigation">
                        <ul class="pagination">
                            <!-- Các nút phân trang sẽ được thêm động -->
                        </ul>
                    </nav>
                </div>
            </div>

            <div class="col-lg-4 col-md-8 p-0">
                <div class="sidebar-option">
                    <div class="so-categories">
                        <h5 class="title">Categories</h5>
                        <ul>
                            <li><a href="#">Khỏe mạnh <span>12</span></a></li>
                            <li><a href="#">Bền bỉ <span>32</span></a></li>
                            <li><a href="#">Giảm cân <span>86</span></a></li>
                            <li><a href="#">Tăng cơ <span>25</span></a></li>
                            <li><a href="#">Thanh lọc <span>36</span></a></li>
                            <li><a href="#">Tráng miệng <span>15</span></a></li>
                        </ul>
                    </div>
                    <div class="so-latest">
                        <h5 class="title">Feature posts</h5>

                        <div class="latest-item">
                            <div class="li-pic">
                                <img th:src="@{/img/letest-blog/latest-2.jpg}" alt="">
                            </div>
                            <div class="li-text">
                                <h6><a href="./blog-details.html">Salad khoai tây nghiền</a></h6>
                                <span class="li-time">Aug 15, 2019</span>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Blog Section End -->

<!-- Get In Touch Section Begin -->
<div class="gettouch-section">
    <div class="container">
        <div class="row">
            <div class="col-md-4">
                <div class="gt-text">
                    <i class="fa fa-map-marker"></i>
                    <p>Học Viện Kĩ Thuật Mật Mã<br/> 141 Chiến Thắng, Tân Triều, Thanh Trì, Hà Nội</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="gt-text">
                    <i class="fa fa-mobile"></i>
                    <ul>
                        <li>125-711-811</li>
                        <li>125-668-886</li>
                    </ul>
                </div>
            </div>
            <div class="col-md-4">
                <div class="gt-text email">
                    <i class="fa fa-envelope"></i>
                    <p>Support.gymcenter@gmail.com</p>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Get In Touch Section End -->

<!-- Footer Section Begin -->
<section class="footer-section">
    <div class="container">
        <div class="row">
            <div class="col-lg-4">
                <div class="fs-about">
                    <div class="fa-logo">
                        <a href="#"><img th:src="@{/img/logo.png}" alt=""></a>
                    </div>
                    <p>“Con đường dẫn đến thành công được làm nên từ những viên gạch của sự kiên trì. Hãy là chính mình, vượt qua mọi chướng ngại và theo đuổi ước mơ của bản thân.”</p>
                    <div class="fa-social">
                        <a href="#"><i class="fa fa-facebook"></i></a>
                        <a href="#"><i class="fa fa-twitter"></i></a>
                        <a href="#"><i class="fa fa-youtube-play"></i></a>
                        <a href="#"><i class="fa fa-instagram"></i></a>
                        <a href="#"><i class="fa  fa-envelope-o"></i></a>
                    </div>
                </div>
            </div>

        </div>
        <div class="row">
            <div class="col-lg-12 text-center">
                <div class="copyright-text">
                    <p><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                        Copyright &copy;
                        <script>document.write(new Date().getFullYear());</script> All rights reserved | This
                        template is made with <i class="fa fa-heart" aria-hidden="true"></i> by <a
                                href="https://colorlib.com" target="_blank">Colorlib</a>
                        <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Footer Section End -->

<!-- Search model Begin -->
<div class="search-model">
    <div class="h-100 d-flex align-items-center justify-content-center">
        <div class="search-close-switch">+</div>
        <form class="search-model-form">
            <input type="text" id="search-input" placeholder="Search here.....">
        </form>
    </div>
</div>
<!-- Search model end -->

<!-- Js Plugins -->
<script th:src="@{/js/api/user-api.js}"></script>
<script th:src="@{/js2/jquery-3.3.1.min.js}"></script>
<script th:src="@{/js2/bootstrap.min.js}"></script>
<script th:src="@{/js2/jquery.magnific-popup.min.js}"></script>
<script th:src="@{/js2/masonry.pkgd.min.js}"></script>
<script th:src="@{/js2/jquery.barfiller.js}"></script>
<script th:src="@{/js2/jquery.slicknav.js}"></script>
<script th:src="@{/js2/owl.carousel.min.js}"></script>
<script th:src="@{/js2/main.js}"></script>

<!-- JS nhận dữ liệu bài viết -->
<script>
    document.addEventListener("DOMContentLoaded", () => {
        const apiUrl = `/customer/home/users/page/nutrition`; // URL API phân trang
        let currentPage = 0; // Trang hiện tại
        const pageSize = 3; // Số mục trên mỗi trang

        // Hàm lấy danh sách Nutrition Plan theo trang
        const fetchNutritionPlans = (page) => {
            fetch(`${apiUrl}?page=${page}&size=${pageSize}`)
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    return response.json();
                })
                .then(data => {
                    displayNutritionPlans(data.content); // Hiển thị danh sách
                    renderPagination(data.totalPages); // Hiển thị phân trang
                })
                .catch(error => {
                    console.error("Fetch error:", error);
                });
        };

        // Hàm hiển thị Nutrition Plans
        function displayNutritionPlans(plans) {
            const container = document.getElementById("nutrition-container");
            container.innerHTML = ""; // Xóa nội dung cũ

            if (plans.length === 0) {
                container.innerHTML = "<p>Không có dữ liệu chế độ dinh dưỡng.</p>";
                return;
            }

            plans.forEach(plan => {
                const nutritionItem = document.createElement("div");
                nutritionItem.className = "nutrition-item";

                nutritionItem.innerHTML = `
            <div class="blog-item">
                <div class="bi-pic">
                    <img src="${plan.imageUrl}" alt="">
                </div>
                <div class="bi-text">
                    <h5><a href="./blog-details.html">${plan.nameNutritionPlan}</a></h5>
                    <ul>
                        <li><strong>Calo:</strong> ${plan.calo} kcal</li>
                    </ul>
                    <p>${plan.descriptions}</p>
                </div>
            </div>
        `;

                container.appendChild(nutritionItem);
            });
        }

        // Hàm hiển thị phân trang
        function renderPagination(totalPages) {
            const paginationContainer = document.querySelector(".blog-pagination");
            paginationContainer.innerHTML = ""; // Xóa nội dung cũ

            // Nút "Previous"
            const prevButton = document.createElement("a");
            prevButton.href = "#";
            prevButton.textContent = "Previous";
            prevButton.className = currentPage === 0 ? "disabled" : "";
            prevButton.addEventListener("click", (e) => {
                e.preventDefault();
                if (currentPage > 0) {
                    currentPage--;
                    fetchNutritionPlans(currentPage);
                }
            });
            paginationContainer.appendChild(prevButton);

            // Các nút số trang
            for (let i = 0; i < totalPages; i++) {
                const pageButton = document.createElement("a");
                pageButton.href = "#";
                pageButton.textContent = (i + 1).toString();
                pageButton.className = i === currentPage ? "active" : "";
                pageButton.addEventListener("click", (e) => {
                    e.preventDefault();
                    currentPage = i;
                    fetchNutritionPlans(currentPage);
                });
                paginationContainer.appendChild(pageButton);
            }

            // Nút "Next"
            const nextButton = document.createElement("a");
            nextButton.href = "#";
            nextButton.textContent = "Next";
            nextButton.className = currentPage === totalPages - 1 ? "disabled" : "";
            nextButton.addEventListener("click", (e) => {
                e.preventDefault();
                if (currentPage < totalPages - 1) {
                    currentPage++;
                    fetchNutritionPlans(currentPage);
                }
            });
            paginationContainer.appendChild(nextButton);
        }

        // Fetch Nutrition Plans lần đầu tiên
        fetchNutritionPlans(currentPage);
    });


</script>

</body>

</html>