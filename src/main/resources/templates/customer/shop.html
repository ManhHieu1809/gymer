<!DOCTYPE html>
<html lang="zxx" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="Gym Template">
    <meta name="keywords" content="Gym, unica, creative, html">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Gym | Template</title>

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css?family=Muli:300,400,500,600,700,800,900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Oswald:300,400,500,600,700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!-- Css Styles -->
    <link th:href="@{/css2/bootstrap.min.css}" rel="stylesheet" type="text/css">
    <link th:href="@{/css2/font-awesome.min.css}" rel="stylesheet" type="text/css">
    <link th:href="@{/css2/flaticon.css}" rel="stylesheet" type="text/css">
    <link th:href="@{/css2/owl.carousel.min.css}" rel="stylesheet" type="text/css">
    <link th:href="@{/css2/barfiller.css}" rel="stylesheet" type="text/css">
    <link th:href="@{/css2/magnific-popup.css}" rel="stylesheet" type="text/css">
    <link th:href="@{/css2/slicknav.min.css}" rel="stylesheet" type="text/css">
    <link th:href="@{/css2/style.css}" rel="stylesheet" type="text/css">
    <!-- Favicon-->
    <link th:href="@{/assets3/favicon.ico}" rel="icon" type="image/x-icon">
     <!-- Bootstrap icons-->
     <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
     <!-- Core theme CSS (includes Bootstrap)-->
     <link th:href="@{css3/styles.css}" rel="stylesheet" />
    <link th:href="@{/css/shop.css}" rel="stylesheet" type="text/css">
     <style>
       /* CƒÉn ch·ªânh ph·∫ßn User icon v√† Login/Signup trong header */

/* CƒÉn ch·ªânh bi·ªÉu t∆∞·ª£ng ng∆∞·ªùi d√πng */
.user-icon {
    font-size: 2rem;
    color: white; /* M√†u tr·∫Øng cho icon */
    text-decoration: none;
    margin-right: 10px; /* Kho·∫£ng c√°ch gi·ªØa icon v√† login/signup */
}

.user-icon:hover {
    color: #007bff; /* M√†u khi hover */
}

/* CƒÉn ch·ªânh c√°c li√™n k·∫øt login/signup */
.auth-links a {
    text-decoration: none;
    color: white; /* M√†u tr·∫Øng */
    font-weight: bold;
    margin-left: 0px;
}

.auth-links a:hover {
    color: #007bff; /* M√†u khi hover */
}

/* Th√™m hi·ªáu ·ª©ng cho c√°c li√™n k·∫øt */
.login-btn, .signup-btn {
    text-transform: uppercase; /* Vi·∫øt hoa cho c√°c li√™n k·∫øt */
}
     </style>

</head>

<body>
    <!-- Page Preloder -->
    <div id="preloder">
        <div class="loader"></div>
    </div>

    <!-- Offcanvas Menu Section Begin -->
    <div class="offcanvas-menu-overlay"></div>
    <div class="offcanvas-menu-wrapper">
        <div class="canvas-close">
            <i class="fa fa-close"></i>
        </div>
       
        <nav class="canvas-menu mobile-menu">
            <ul>
                <li><a href="/customer/home">Home</a></li>
                <li><a href="/customer/home/nutrition-plan">K·∫ø ho·∫°ch dinh d∆∞·ª°ng</a></li>
                <li><a href="/customer/home/workout-plan">K·∫ø ho·∫°ch luy·ªán t·∫≠p</a></li>
                <li><a href="/customer/home/Progress">Ti·∫øn ƒë·ªô luy·ªán t·∫≠p</a></li>
                <li><a href="/customer/home/shop">Shop</a></li>
                <li><a href="/customer/home/users/notification">Th√¥ng b√°o</a></li>
                <li><a href="/customer/home/chat">ChƒÉm s√≥c kh√°ch h√†ng</a></li>
                <li><a href="/customer/home/chat">Contact</a></li>
            </ul>
        </nav>
    </div>
    <!-- Offcanvas Menu Section End -->

   <!-- Header Section Begin -->
<header class="header-section">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-3">
                <div class="logo">
                    <a href="/customer/home">
                        <img th:src="@{/img/logo.png}" alt="">
                    </a>
                </div>
            </div>
            <div class="col-lg-6">
                <nav class="nav-menu">
                    <ul>
                        <li><a href="/customer/home">Home</a></li>
                        <li><a href="/customer/home/nutrition-plan">K·∫ø ho·∫°ch dinh d∆∞·ª°ng</a></li>
                        <li><a href="/customer/home/workout-plan">K·∫ø ho·∫°ch luy·ªán t·∫≠p</a></li>
                        <li><a href="/customer/home/Progress">Ti·∫øn ƒë·ªô luy·ªán t·∫≠p</a></li>
                        <li class="active"><a href="/customer/home/shop">Shop</a></li>
                        <li><a href="/customer/home/users/notification">Th√¥ng b√°o</a></li>
                        <li><a href="/customer/home/chat">ChƒÉm s√≥c kh√°ch h√†ng</a></li>
                    </ul>
                </nav>
                
            </div>

            <div class="col-lg-3">
                <!-- User Icon and Login/Signup Links -->
                <div class="d-flex justify-content-end align-items-center">
                    <a href="/customer/home/users" class="user-icon" id="user-icon">
                        <i class="fa fa-user"></i>
                    </a>
                    <div class="auth-links ml-3" id="auth-links">
                        <a href="/req/login" class="login-btn" id="login-btn">Login</a> |
                        <a href="/req/signup" class="signup-btn">Signup</a>
                    </div>
                    <div class="user-info text-white" id="user-info" style="display: none;">
                        <span>Welcome, <span id="username"></span>!</span>
                    </div>
                </div>
            </div>

        </div>
        <div class="canvas-open">
            <i class="fa fa-bars"></i>
        </div>
    </div>
</header>
<!-- Header End -->

    <!-- Hero Section Begin -->
    <section class="hero-section">
        <div class="hs-slider owl-carousel">
            <div class="hs-item set-bg" th:data-setbg="@{/img/hero/hero-1.jpg}">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-12 text-center">
                            <div class="breadcrumb-text">
                                <h2>SHOP GYM</h2>
                                <div class="bt-option">
                                    <a href="/customer/home">Home</a>
                                    <a href="#">SHOP GYM</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Hero Section End -->

    <!-- Classes Section Begin -->
    <section class="shop-section">
            <div class="container">
                <header class="header">
                    <h1>Shop</h1>
                   <label class="search-label" style="margin-left: 700px;" id="search-form">
    <input type="text" name="text" class="input" required="" placeholder="Type here..." id="search-input">
    <kbd class="slash-icon">/</kbd>
    <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="512" height="512" x="0" y="0" viewBox="0 0 56.966 56.966" style="enable-background:new 0 0 512 512" xml:space="preserve">
        <g>
            <path d="M55.146 51.887 41.588 37.786A22.926 22.926 0 0 0 46.984 23c0-12.682-10.318-23-23-23s-23 10.318-23 23 10.318 23 23 23c4.761 0 9.298-1.436 13.177-4.162l13.661 14.208c.571.593 1.339.92 2.162.92.779 0 1.518-.297 2.079-.837a3.004 3.004 0 0 0 .083-4.242zM23.984 6c9.374 0 17 7.626 17 17s-7.626 17-17 17-17-7.626-17-17 7.626-17 17-17z" fill="currentColor" data-original="#000000" class=""></path>
        </g>
    </svg>
</label>
                    <div class="cart-icon" id="cart-icon">
                        üõí
                        <span class="cart-count" id="cart-count">0</span>
                    </div>
                </header>
                <main class="products-grid" id="products-grid">


                </main>
                <div class="pagination-container" id="pagination-container">
                    <div class="pagination">
                        <button class="pagination-btn" data-page="prev">Prev</button>
                        <button class="pagination-btn active" data-page="1">1</button>
                        <button class="pagination-btn" data-page="2">2</button>
                        <button class="pagination-btn" data-page="next">Next</button>
                    </div>
                </div>
            </div>
    </section>
    <!-- ChoseUs Section End -->


    <!-- Footer Section Begin -->
    <section class="footer-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-4">
                    <div class="fs-about">
                        <div class="fa-logo">
                            <a href="#"><img th:src="@{/img/logo.png}" alt=""></a>
                        </div>
                        <p>‚ÄúCon ƒë∆∞·ªùng d·∫´n ƒë·∫øn th√†nh c√¥ng ƒë∆∞·ª£c l√†m n√™n t·ª´ nh·ªØng vi√™n g·∫°ch c·ªßa s·ª± ki√™n tr√¨. H√£y l√† ch√≠nh m√¨nh, v∆∞·ª£t qua m·ªçi ch∆∞·ªõng ng·∫°i v√† theo ƒëu·ªïi ∆∞·ªõc m∆° c·ªßa b·∫£n th√¢n.‚Äù</p>
                        <div class="fa-social">
                            <a href="#"><i class="fa fa-facebook"></i></a>
                            <a href="#"><i class="fa fa-twitter"></i></a>
                            <a href="#"><i class="fa fa-youtube-play"></i></a>
                            <a href="#"><i class="fa fa-instagram"></i></a>
                            <a href="#"><i class="fa  fa-envelope-o"></i></a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-6">
                    <div class="fs-widget">
                        <h4>Useful links</h4>
                        <ul>
                            <li><a href="#">About</a></li>
                            <li><a href="#">Blog</a></li>
                            <li><a href="#">Classes</a></li>
                            <li><a href="#">Contact</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-6">
                    <div class="fs-widget">
                        <h4>Support</h4>
                        <ul>
                            <li><a href="#">Login</a></li>
                            <li><a href="#">My account</a></li>
                            <li><a href="#">Subscribe</a></li>
                            <li><a href="#">Contact</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="fs-widget">
                        <h4>Tips & Guides</h4>
                        <div class="fw-recent">
                            <h6><a href="#">Physical fitness may help prevent depression, anxiety</a></h6>
                            <ul>
                                <li>3 min read</li>
                                <li>20 Comment</li>
                            </ul>
                        </div>
                        <div class="fw-recent">
                            <h6><a href="#">Fitness: The best exercise to lose belly fat and tone up...</a></h6>
                            <ul>
                                <li>3 min read</li>
                                <li>20 Comment</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 text-center">
                    
                </div>
            </div>
        </div>
    </section>
    <!-- Footer Section End -->



    <!-- Js Plugins -->
    <script th:src="@{/js2/jquery-3.3.1.min.js}"></script>
    <script th:src="@{/js2/bootstrap.min.js}"></script>
    <script th:src="@{/js2/jquery.magnific-popup.min.js}"></script>
    <script th:src="@{/js2/masonry.pkgd.min.js}"></script>
    <script th:src="@{/js2/jquery.barfiller.js}"></script>
    <script th:src="@{/js2/jquery.slicknav.js}"></script>
    <script th:src="@{/js2/owl.carousel.min.js}"></script>
    <script th:src="@{/js2/main.js}"></script>
    <!-- Core theme JS-->
    <script th:src="@{/js3/scripts.js}"></script>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const productContainer = document.getElementById("products-grid");
            const paginationContainer = document.getElementById("pagination-container");
            const cartCount = document.getElementById("cart-count");
            const cartIcon = document.getElementById("cart-icon");

            let currentPage = 0; // Trang hi·ªán t·∫°i
            const pageSize = 8;  // S·ªë s·∫£n ph·∫©m tr√™n m·ªói trang

            // L·∫•y gi·ªè h√†ng t·ª´ localStorage ho·∫∑c kh·ªüi t·∫°o m·∫£ng tr·ªëng
            let cart = JSON.parse(localStorage.getItem("cart")) || [];

            // H√†m c·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng s·∫£n ph·∫©m trong gi·ªè h√†ng
            const updateCartCount = () => {
                const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
                cartCount.textContent = totalItems;
            };

            // H√†m ƒë·ªãnh d·∫°ng gi√° ti·ªÅn
            const formatPrice = (price) => {
                return new Intl.NumberFormat('vi-VN').format(price) + ' VNƒê';
            };

            // H√†m fetch API l·∫•y s·∫£n ph·∫©m
            const fetchProducts = async (page) => {
                fetch(`/customer/home/users/page?page=${page}&size=${pageSize}`)
                    .then(response => response.json())
                    .then(data => {
                        const products = data.content; // Danh s√°ch s·∫£n ph·∫©m
                        const totalPages = data.totalPages; // T·ªïng s·ªë trang

                        // X√≥a s·∫£n ph·∫©m c≈©
                        productContainer.innerHTML = "";

                        // Render s·∫£n ph·∫©m
                        products.forEach(product => {
                            const productHTML = `
                    <a href="/customer/home/shop/productDetail?id=${product.productID}" class="product-link image-link">
                   <div class="product-card">
                        <img src="${product.imageUrl || 'https://via.placeholder.com/450x300'}"
                             alt="${product.productName}"  class="product-image">
                        <div class="product-info">
                            <div class="p-title">
                                <h2 class="product-title">${product.productName}</h2>
                            </div>
                            <p class="product-price">${formatPrice(product.price)}</p>
                            <button class="add-to-cart"
                                    data-url="${product.imageUrl}"
                                    data-id="${product.productID}"
                                    data-name="${product.productName}"
                                    data-description="${product.descriptions}"
                                    data-price="${product.price}">
                                    Th√™m v√†o gi·ªè h√†ng
                            </button>
                        </div>
                    </div>
                    `;
                            productContainer.innerHTML += productHTML;
                        });

                        // G√°n s·ª± ki·ªán "click" cho n√∫t "Add to Cart"
                        document.querySelectorAll(".add-to-cart").forEach(button => {
                            button.addEventListener("click", (e) => {
                                e.stopPropagation(); // NgƒÉn ch·∫∑n s·ª± ki·ªán click lan t·ªõi c√°c ph·∫ßn t·ª≠ cha
                                e.preventDefault();

                                const productID = button.getAttribute("data-id");
                                const productName = button.getAttribute("data-name");
                                const productPrice = button.getAttribute("data-price");
                                const productUrl = button.getAttribute("data-url");
                                const productDescription = button.getAttribute("data-description");

                                // Ki·ªÉm tra n·∫øu s·∫£n ph·∫©m ƒë√£ c√≥ trong gi·ªè h√†ng
                                const existingProduct = cart.find(item => item.id === productID);
                                if (existingProduct) {
                                    existingProduct.quantity++;
                                } else {
                                    // Th√™m s·∫£n ph·∫©m m·ªõi
                                    cart.push({
                                        id: productID,
                                        url: productUrl,
                                        name: productName,
                                        description: productDescription,
                                        price: parseFloat(productPrice),
                                        quantity: 1,
                                    });
                                }

                                // L∆∞u gi·ªè h√†ng v√†o localStorage
                                localStorage.setItem("cart", JSON.stringify(cart));

                                // C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng gi·ªè h√†ng
                                updateCartCount();

                                // S·ª≠ d·ª•ng SweetAlert2 ƒë·ªÉ th√¥ng b√°o
                                Swal.fire({
                                    icon: 'success',
                                    title: 'S·∫£n ph·∫©m ƒë√£ ƒë∆∞·ª£c th√™m v√†o gi·ªè h√†ng!',
                                    text: `ƒê√£ th√™m s·∫£n ph·∫©m "${productName}" v√†o gi·ªè h√†ng.`,
                                    confirmButtonText: 'OK',
                                    confirmButtonColor: '#3085d6',
                                    timer: 3000 // Th·ªùi gian t·ª± ƒë·ªông ƒë√≥ng sau 3 gi√¢y
                                });
                            });
                        });

                        // C·∫≠p nh·∫≠t ph√¢n trang
                        renderPagination(totalPages);
                    })
                    .catch(error => console.error("Error fetching products:", error));
            };

            const renderPagination = (totalPages) => {
                const paginationList = paginationContainer.querySelector(".pagination");
                paginationList.innerHTML = "";

                // N√∫t "Previous"
                const prevItem = document.createElement("li");
                prevItem.className = `page-item ${currentPage === 0 ? "disabled" : ""}`;
                prevItem.innerHTML = `
        <button class="pagination-btn" data-page="prev">Prev</button>
    `;
                prevItem.addEventListener("click", () => {
                    if (currentPage > 0) {
                        currentPage--;
                        fetchProducts(currentPage);
                    }
                });
                paginationList.appendChild(prevItem);

                // C√°c n√∫t s·ªë trang
                for (let i = 0; i < totalPages; i++) {
                    const pageItem = document.createElement("li");
                    pageItem.className = `page-item ${i === currentPage ? "active" : ""}`;
                    pageItem.innerHTML = `
            <button class="pagination-btn">${i + 1}</button>
        `;
                    pageItem.addEventListener("click", () => {
                        currentPage = i;
                        fetchProducts(currentPage);
                    });
                    paginationList.appendChild(pageItem);
                }

                // N√∫t "Next"
                const nextItem = document.createElement("li");
                nextItem.className = `page-item ${currentPage === totalPages - 1 ? "disabled" : ""}`;
                nextItem.innerHTML = `
        <button class="pagination-btn" data-page="next">Next</button>
    `;
                nextItem.addEventListener("click", () => {
                    if (currentPage < totalPages - 1) {
                        currentPage++;
                        fetchProducts(currentPage);
                    }
                });
                paginationList.appendChild(nextItem);
            };


            // S·ª± ki·ªán click v√†o bi·ªÉu t∆∞·ª£ng gi·ªè h√†ng
            cartIcon.addEventListener("click", () => {
                window.location.href = "/customer/home/shop/cart";
            });

            // C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng gi·ªè h√†ng khi t·∫£i trang
            updateCartCount();

            // Fetch s·∫£n ph·∫©m l·∫ßn ƒë·∫ßu
            fetchProducts(currentPage);
        });


    </script>


<script>
    document.addEventListener("DOMContentLoaded", () => {
        // H√†m l·∫•y v√† hi·ªÉn th·ªã t√™n ng∆∞·ªùi d√πng
        async function fetchAndDisplayUsernames() {
            try {
                // G·ª≠i y√™u c·∫ßu GET t·ªõi API
                const response = await fetch('http://localhost:8080/customer/home/users/user-info1', {
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    credentials: 'include' // ƒê·∫£m b·∫£o g·ª≠i cookie session
                });

                if (response.ok) {
                    const data = await response.json(); // L·∫•y d·ªØ li·ªáu JSON t·ª´ ph·∫£n h·ªìi
                    const username = data.username;

                    // Hi·ªÉn th·ªã t√™n ng∆∞·ªùi d√πng v√† ·∫©n c√°c li√™n k·∫øt login/signup
                    document.getElementById("auth-links").style.display = 'none'; // ·∫®n "Login" v√† "Signup"
                    document.getElementById("user-info").style.display = 'block'; // Hi·ªÉn th·ªã t√™n ng∆∞·ªùi d√πng
                    document.getElementById("username").innerText = username; // C·∫≠p nh·∫≠t t√™n ng∆∞·ªùi d√πng
                } else {
                    console.error("Error fetching username:", response.statusText);
                }
            } catch (error) {
                console.error("Error fetching username:", error);
            }
        }

        // Ki·ªÉm tra khi t·∫£i trang v√† g·ªçi API
        fetchAndDisplayUsernames();
    });

</script>

<script>
    async function searchProduct(productName) {
        const apiUrl = `http://localhost:8080/customer/home/users/search/${encodeURIComponent(productName)}`;

        try {
            // G·ª≠i y√™u c·∫ßu GET ƒë·∫øn API
            const response = await fetch(apiUrl, {
                method: 'GET',
                headers: {
                    'Content-Type': 'application/json',
                },
            });

            // Ki·ªÉm tra n·∫øu ph·∫£n h·ªìi kh√¥ng th√†nh c√¥ng
            if (!response.ok) {
                throw new Error(`Error: ${response.status} - ${response.statusText}`);
            }

            // Chuy·ªÉn ƒë·ªïi ph·∫£n h·ªìi sang JSON
            const data = await response.json();

            // Tr·∫£ v·ªÅ k·∫øt qu·∫£
            console.log('Search Results:', data);
            return data;
        } catch (error) {
            console.error('Error fetching product:', error);
            throw error;
        }
    }

    // X·ª≠ l√Ω s·ª± ki·ªán t√¨m ki·∫øm
    const productContainer = document.getElementById('products-grid');
    const searchResultsContainer = document.getElementById('search-results');
    const cartCount = document.getElementById("cart-count");
    const cartIcon = document.getElementById("cart-icon");


    // L·∫•y gi·ªè h√†ng t·ª´ localStorage ho·∫∑c kh·ªüi t·∫°o m·∫£ng tr·ªëng
    let cart = JSON.parse(localStorage.getItem("cart")) || [];

    // H√†m c·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng s·∫£n ph·∫©m trong gi·ªè h√†ng
    const updateCartCount = () => {
        const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
        cartCount.textContent = totalItems;
    };

document.getElementById('search-input').addEventListener('keydown', async (event) => {
    if (event.key === 'Enter') {
        event.preventDefault(); // NgƒÉn ch·∫∑n t·∫£i l·∫°i trang m·∫∑c ƒë·ªãnh

        const searchInput = document.getElementById('search-input').value.trim();

        if (!searchInput) {
            window.location.href = "/customer/home/shop";
            return;
        }

        try {
            const results = await searchProduct(searchInput);
            // Ch·ªâ hi·ªÉn th·ªã s·∫£n ph·∫©m t√¨m ki·∫øm
            productContainer.innerHTML = ''; // X√≥a s·∫£n ph·∫©m c≈©
            displaySearchResults(results);
        } catch (error) {
            console.error('Error during search:', error);
            alert('Failed to search for products. Please try again later.');
        }
    }
});


    function displaySearchResults(results) {
        if (results.length === 0) {
            productContainer.innerHTML = '<p>No products found.</p>';
            return;
        }

        // Render s·∫£n ph·∫©m
        results.forEach(product => {
            const productHTML = `
           <a href="/customer/home/shop/productDetail?id=${product.productID}" class="product-link">
                   <div class="product-card">
                        <img src="${product.imageUrl || 'https://via.placeholder.com/450x300'}"
                             alt="${product.productName}"  class="product-image">
                        <div class="product-info">
                            <div class="p-title">
                                <h2 class="product-title">${product.productName}</h2>
                            </div>
                            <p class="product-price">${product.price}</p>
                            <button class="add-to-cart"
                                    data-id="${product.productID}"
                                    data-name="${product.productName}"
                                    data-price="${product.price}">
                                    Th√™m v√†o gi·ªè h√†ng
                            </button>
                        </div>
                    </div>
        `;
            productContainer.innerHTML += productHTML;
        });

        // G√°n s·ª± ki·ªán "click" cho n√∫t "Add to Cart"
        document.querySelectorAll(".add-to-cart").forEach(button => {
            button.addEventListener("click", () => {
                const productID = button.getAttribute("data-id");
                const productName = button.getAttribute("data-name");
                const productPrice = button.getAttribute("data-price");

                // Ki·ªÉm tra n·∫øu s·∫£n ph·∫©m ƒë√£ c√≥ trong gi·ªè h√†ng
                const existingProduct = cart.find(item => item.id === productID);
                if (existingProduct) {
                    existingProduct.quantity++;
                } else {
                    // Th√™m s·∫£n ph·∫©m m·ªõi
                    cart.push({
                        id: productID,
                        name: productName,
                        price: parseFloat(productPrice),
                        quantity: 1,
                    });
                }

                // L∆∞u gi·ªè h√†ng v√†o localStorage
                localStorage.setItem("cart", JSON.stringify(cart));

                // C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng gi·ªè h√†ng
                updateCartCount();

                // S·ª≠ d·ª•ng SweetAlert2 ƒë·ªÉ th√¥ng b√°o
                Swal.fire({
                    icon: 'success',
                    title: 'S·∫£n ph·∫©m ƒë√£ ƒë∆∞·ª£c th√™m v√†o gi·ªè h√†ng!',
                    text: `ƒê√£ th√™m s·∫£n ph·∫©m "${productName}" v√†o gi·ªè h√†ng.`,
                    confirmButtonText: 'OK',
                    confirmButtonColor: '#3085d6',
                    timer: 3000 // Th·ªùi gian t·ª± ƒë·ªông ƒë√≥ng sau 3 gi√¢y
                });
            });
        });
    }

</script>


</body>

</html>